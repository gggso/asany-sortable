(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{242:function(module){module.exports=JSON.parse('["司空震","澜","夏洛特","阿古朵","蒙恬","镜","蒙犽","鲁班大师","西施","马超","曜","云中君","瑶","盘古","猪八戒","嫦娥","上官婉儿","李信","沈梦溪","伽罗","盾山","司马懿","孙策","元歌","米莱狄","狂铁","弈星","裴擒虎","杨玉环","公孙离","明世隐","女娲","梦奇","苏烈","百里玄策","百里守约","铠","鬼谷子","干将莫邪","东皇太一","大乔","黄忠","诸葛亮","哪吒","太乙真人","蔡文姬","雅典娜","杨戬","成吉思汗","钟馗","虞姬","李元芳","张飞","刘备","后羿","牛魔","孙悟空","亚瑟","橘右京","娜可露露","不知火舞","张良","花木兰","兰陵王","王昭君","韩信","刘邦","姜子牙","露娜","程咬金","安琪拉","貂蝉","关羽","老夫子","武则天","项羽","达摩","狄仁杰","马可波罗","李白","宫本武藏","典韦","曹操","甄姬","夏侯惇","周瑜","吕布","芈月","白起","扁鹊","孙膑","钟无艳","阿轲","高渐离","刘禅","庄周","鲁班七号","孙尚香","嬴政","妲己","墨子","赵云","小乔","廉颇"]')},319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(224);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loaderFn(){return[__webpack_require__(456),__webpack_require__(457),__webpack_require__(489),__webpack_require__(490),__webpack_require__(491),__webpack_require__(492)]}),module);var parameters={actions:{argTypesRegex:"^on.*"}}}.call(this,__webpack_require__(201)(module))},36:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return src_Sortable})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Sortable_injectAnime}));__webpack_require__(74),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(6),__webpack_require__(23),__webpack_require__(119),__webpack_require__(14),__webpack_require__(50),__webpack_require__(26),__webpack_require__(894),__webpack_require__(57),__webpack_require__(64),__webpack_require__(22),__webpack_require__(124);var SortableEventType,typings_SortableChangeEventType,SortableActionType,classnames=__webpack_require__(140),classnames_default=__webpack_require__.n(classnames),index_es=__webpack_require__(322),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_is=__webpack_require__(239),lodash=(__webpack_require__(58),__webpack_require__(99),__webpack_require__(77),__webpack_require__(31),__webpack_require__(70),__webpack_require__(313),__webpack_require__(141)),useDrop=__webpack_require__(929),events_events=(__webpack_require__(307),__webpack_require__(310),__webpack_require__(520)),immutability_helper=__webpack_require__(102),immutability_helper_default=__webpack_require__.n(immutability_helper);!function(SortableEventType){SortableEventType.CHANGE="change",SortableEventType.RESET="reset",SortableEventType.DROP="drop",SortableEventType.BUILD_REF="build_ref",SortableEventType.UNBUILD_REF="unbuild_ref",SortableEventType.OVER="OVER",SortableEventType.DRAGGING="DRAGGING"}(SortableEventType||(SortableEventType={})),function(SortableChangeEventType){SortableChangeEventType.DROP="drop",SortableChangeEventType.REMOVE="remove",SortableChangeEventType.SORT="sort",SortableChangeEventType.DRAG="drag",SortableChangeEventType.UPDATE="update"}(typings_SortableChangeEventType||(typings_SortableChangeEventType={})),function(SortableActionType){SortableActionType.init="init",SortableActionType.register="register",SortableActionType.UPDATE_ID="UPDATE_ID",SortableActionType.update="update",SortableActionType.move="move",SortableActionType.moveIn="moveIn",SortableActionType.moveOut="moveOut",SortableActionType.remove="remove",SortableActionType.reset="reset",SortableActionType.dragging="dragging",SortableActionType.drop="drop",SortableActionType.moving="moving"}(SortableActionType||(SortableActionType={}));__webpack_require__(458),__webpack_require__(54),__webpack_require__(459),__webpack_require__(465),__webpack_require__(466),__webpack_require__(467),__webpack_require__(468),__webpack_require__(469),__webpack_require__(470),__webpack_require__(471),__webpack_require__(472),__webpack_require__(473),__webpack_require__(474),__webpack_require__(475),__webpack_require__(476),__webpack_require__(477),__webpack_require__(478),__webpack_require__(479),__webpack_require__(480),__webpack_require__(481),__webpack_require__(482),__webpack_require__(483),__webpack_require__(484),__webpack_require__(485),__webpack_require__(486),__webpack_require__(487),__webpack_require__(488),__webpack_require__(454),__webpack_require__(51),__webpack_require__(312),__webpack_require__(455);var sleep=function sleep(time){return new Promise((function(resolve){setTimeout((function(){resolve(0)}),time)}))};function useDeepCompareEffect(effect,dependencies){Object(react.useEffect)(effect,function useDeepCompareMemoize(value){var ref=Object(react.useRef)();(function deepCompareEquals(a,b){return Object(lodash.isEqual)(a,b)})(value,ref.current)||(ref.current=value);return ref.current}(dependencies))}function utils_assign(target){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];return sources.forEach((function(source){var descriptors=Object.keys(source).reduce((function(descriptors,key){return descriptors[key]=Object.getOwnPropertyDescriptor(source,key),descriptors}),{});Object.getOwnPropertySymbols(source).forEach((function(sym){var descriptor=Object.getOwnPropertyDescriptor(source,sym);descriptor.enumerable&&(descriptors[sym]=descriptor)})),Object.defineProperties(target,descriptors)})),target}var jsx_runtime=__webpack_require__(8),_excluded=["sortable","rect"],_excluded2=["_originalSortable","_sortable","_rect"],_excluded3=["_originalSortable","_sortable","_rect"],_excluded4=["_originalSortable","_sortable","_rect"];function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SortableStoreContext=react_default.a.createContext({getState:function getState(){return{}},subscribe:function subscribe(){}}),useEventManager=function useEventManager(){return SortableProvider_useSortableStore().eventEmitter},useSortableDispatch=function useSortableDispatch(){return SortableProvider_useSortableStore().dispatch},defaultEqualityFn=function defaultEqualityFn(a,b){return a===b};function useSortableSelector(selector){var equalityFn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityFn,store=SortableProvider_useSortableStore(),_useReducer=Object(react.useReducer)((function(s){return s+1}),0),_useReducer2=_slicedToArray(_useReducer,2),forceRender=_useReducer2[1],latestSelectedState=Object(react.useRef)(),selectedState=selector(store.getState());function checkForUpdates(){var newSelectedState=selector(store.getState());equalityFn(newSelectedState,latestSelectedState.current)||(latestSelectedState.current=newSelectedState,forceRender())}return Object(react.useEffect)((function(){return store.subscribe(checkForUpdates)}),[]),selectedState}var SortableProvider_useSortableStore=function useSortableStore(){return Object(react.useContext)(SortableStoreContext)};function useStore(items){var prevStore=SortableProvider_useSortableStore(),SORTABLE_ID=_slicedToArray(Object(react.useState)(function generateUUID(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(c){return(c^crypto.getRandomValues(new Uint32Array(1))[0]&15>>c/4).toString(16)}))}()),1)[0],_useReducer4=_slicedToArray(Object(react.useReducer)((function(state,action){if(action.type===SortableActionType.UPDATE_ID)return immutability_helper_default()(state,{id:{$set:action.payload}});if(action.type===SortableActionType.register){var data=action.payload;return utils_assign(state.items.find((function(item){return item.id==data.id})),data),Object.assign({},state)}if(action.type===SortableActionType.move){var _items=state.items,_action$payload=action.payload,source=_action$payload.source,target=_action$payload.target,relation=_action$payload.relation,sourceIndex=_items.findIndex((function(data){return data.id==source})),targetIndex=_items.findIndex((function(data){return data.id==target}));if(sourceIndex==targetIndex||-1==sourceIndex||-1==targetIndex)return state;if("before"===relation&&sourceIndex<targetIndex)return state;if("after"===relation&&sourceIndex>targetIndex)return state;var sourceItem=_items[sourceIndex];return immutability_helper_default()(state,{items:{$splice:[[sourceIndex,1],[targetIndex,0,sourceItem]]},logs:{$push:[{source:source,target:target,sourceIndex:sourceIndex,targetIndex:targetIndex}]}})}if(action.type===SortableActionType.remove||action.type===SortableActionType.moveOut){var _items2=state.items,_item=action.payload,itemIndex=_items2.findIndex((function(data){return data.id==_item.id}));return-1==itemIndex?state:immutability_helper_default()(state,{items:{$splice:[[itemIndex,1]]}})}if(action.type===SortableActionType.moveIn){var _action$payload2=action.payload,index=_action$payload2.index,_action$payload2$item=_action$payload2.item,_item2=(_action$payload2$item.sortable,_action$payload2$item.rect,_objectWithoutProperties(_action$payload2$item,_excluded));return-1==index?immutability_helper_default()(state,{items:{$push:[_item2]}}):immutability_helper_default()(state,{items:{$splice:[[index,0,_item2]]}})}if(action.type===SortableActionType.dragging)return immutability_helper_default()(state,{backup:{$set:_toConsumableArray(state.items)},dragging:{$set:action.payload}});if(action.type===SortableActionType.drop)return immutability_helper_default()(state,{backup:{$set:[]},dragging:{$set:void 0},logs:{$set:[]}});if(action.type===SortableActionType.reset){var _items3=state.items,backup=state.backup;return immutability_helper_default()(state,{items:{$set:backup.map((function(item){return _items3.find((function(x){return x.id==item.id}))||item}))},backup:{$set:[]},dragging:{$set:void 0},logs:{$set:[]}})}return action.type===SortableActionType.moving?immutability_helper_default()(state,{moving:{$set:action.payload}}):action.type==SortableActionType.init?Object.assign({},action.payload):state}),{items:items,backup:[],logs:[],id:SORTABLE_ID,moving:!1}),2),state=_useReducer4[0],dispatch=_useReducer4[1],listeners=_slicedToArray(Object(react.useState)([]),1)[0],handleSubscribe=Object(react.useCallback)((function(callback){return listeners.push(callback),function handleUnsubscribe(callback){return function(){var index=listeners.indexOf(callback);index>-1&&listeners.splice(index,1)}}(callback)}),[listeners]),handleDispatchSubscribe=Object(react.useCallback)((function(){var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(listeners);try{for(_iterator.s();!(_step=_iterator.n()).done;){(0,_step.value)()}}catch(err){_iterator.e(err)}finally{_iterator.f()}}),[]),initStore={getState:function getState(){return state},dispatch:dispatch,eventEmitter:prevStore.eventEmitter||new events_events.EventEmitter,subscribe:handleSubscribe},store=_slicedToArray(Object(react.useState)(initStore),1)[0],parentId=useSortableSelector((function(state){return state.id}));Object(react.useEffect)((function(){parentId&&dispatch({type:SortableActionType.UPDATE_ID,payload:parentId+"/"+SORTABLE_ID})}),[parentId]),Object(react.useEffect)((function(){store.getState=function(){return state},handleDispatchSubscribe()}),[state]);var outside=items.map((function(_ref){_ref._originalSortable,_ref._sortable,_ref._rect;return _objectWithoutProperties(_ref,_excluded2)}));return useDeepCompareEffect((function(){var state=store.getState(),inside=state.items.map((function(_ref2){_ref2._originalSortable,_ref2._sortable,_ref2._rect;return _objectWithoutProperties(_ref2,_excluded3)}));Object(lodash.isEqual)(inside,outside)||dispatch({type:SortableActionType.init,payload:{items:outside.map((function(item){var data=state.items.find((function(x){return x.id==item.id}));if(!data)return item;data._originalSortable,data._sortable,data._rect;var prevData=_objectWithoutProperties(data,_excluded4);return Object(lodash.isEqual)(prevData,item)?data:utils_assign(Object.assign({},data,{get _rect(){return null==data?void 0:data._rect}}),item)})),backup:[],logs:[],moving:!1,id:state.id}})}),[outside]),store}var SortableProvider_SortableProvider=function SortableProvider(props){var _props$deps=props.deps,deps=void 0===_props$deps?[]:_props$deps,items=props.items,children=props.children,store=useStore(items);return Object(react.useMemo)((function(){return Object(jsx_runtime.jsx)(SortableStoreContext.Provider,{value:store,children:children})}),deps)};try{SortableProvider_SortableProvider.displayName="SortableProvider",SortableProvider_SortableProvider.__docgenInfo={description:"模仿 Redux 的 useSortableSelector",displayName:"SortableProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SortableProvider.tsx#SortableProvider"]={docgenInfo:SortableProvider_SortableProvider.__docgenInfo,name:"SortableProvider",path:"src/SortableProvider.tsx#SortableProvider"})}catch(__react_docgen_typescript_loader_error){}function isRectangleOverlap(rec1,rec2){var x_overlap=!(rec1[2]<=rec2[0]||rec2[2]<=rec1[0]),y_overlap=!(rec1[3]<=rec2[1]||rec2[3]<=rec1[1]);return!(!x_overlap||!y_overlap)&&{x:x_overlap,y:y_overlap}}function getMonitorCoord(layout,itemRect,sourceClientOffset){var layoutRect=layout.current.getBoundingClientRect(),top=sourceClientOffset.y-layoutRect.top,left=sourceClientOffset.x-layoutRect.left,height=itemRect.height,width=itemRect.width;return{top:top,height:height,left:left,width:itemRect.width,direction:function direction(_ref,layout,detection){var y=_ref.y,x=_ref.x,h=_ref.h,w=_ref.w,currentRec=[left,top,left+width,top+height];if(!isRectangleOverlap(currentRec,[x,y,x+w,y+h]))return"none";var x1=x+w/2,y1=y+h/2,source=function getRec(itemRect,layoutRect){var x=itemRect.left-layoutRect.left,y=itemRect.top-layoutRect.top;return[x,y,x+itemRect.width,y+itemRect.height]}(itemRect,layoutRect),target=[x,y,x+w,y+h],overlap=isRectangleOverlap(currentRec,[x1,y1,x1,y1]);return"grid"==layout?overlap?source[3]<target[1]||source[2]<target[0]?"after":"before":"none":"vertical"===detection&&overlap.y||"horizontal"===detection&&overlap.x?source[3]<target[1]||source[2]<target[0]?"after":"before":"none"},compare:function compare(_){throw"未实现逻辑"}}}function getItemCoord(layout,item){var layoutRect=layout.current.getBoundingClientRect(),itemRect=item._rect,top=itemRect.top-layoutRect.top,left=itemRect.left-layoutRect.left;return{top:top,left:left,itemRect:itemRect.height,compare:function compare(other,layout,detection){return other.direction({y:top,x:left,h:itemRect.height,w:itemRect.width},layout,detection)}}}var DEFAULT_RECT={height:0,width:0,y:0,x:0,bottom:0,right:0,left:0,top:0,toJSON:function toJSON(){}};function findInnerIndex(id,items){return items.findIndex((function(data){return data.id==id}))}function SortableContainer_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=SortableContainer_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e2){function e(_x4){return _e2.apply(this,arguments)}return e.toString=function(){return _e2.toString()},e}((function(e){throw e})),f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function(_e3){function e(_x5){return _e3.apply(this,arguments)}return e.toString=function(){return _e3.toString()},e}((function(e){didErr=!0,err=e})),f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function SortableContainer_slicedToArray(arr,i){return function SortableContainer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SortableContainer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||SortableContainer_unsupportedIterableToArray(arr,i)||function SortableContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SortableContainer_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return SortableContainer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SortableContainer_arrayLikeToArray(o,minLen):void 0}}function SortableContainer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SortableContainer(props,externalRef){var tag=props.tag,className=props.className,style=props.style,children=props.children,accept=props.accept,layout=props.layout,direction=props.direction,onClick=props.onClick,dispatch=useSortableDispatch(),events=useEventManager(),id=useSortableSelector((function(state){return state.id})),items=useSortableSelector((function(state){return state.items})),moving=useSortableSelector((function(state){return state.moving})),lastLog=SortableContainer_slicedToArray(useSortableSelector((function(state){return state.logs.slice(-1)})),1)[0],prevMoveData=Object(react.useRef)(["","","after"]),temp=Object(react.useRef)({id:id,items:items,lastLog:lastLog});temp.current.lastLog=lastLog;var pendingUpdateFn=Object(react.useRef)(),requestedFrame=Object(react.useRef)(),move=Object(react.useCallback)((function(source,target,relation){if(!Object(lodash.isEqual)(prevMoveData.current,[source,target,relation])){var _temp$current=temp.current,items=_temp$current.items,lastLog=_temp$current.lastLog,moving=_temp$current.moving,sourceIndex=findInnerIndex(source,items),targetIndex=findInnerIndex(target,items);if(sourceIndex!=targetIndex&&-1!=targetIndex&&-1!=targetIndex&&!("before"===relation&&sourceIndex<targetIndex||"after"===relation&&sourceIndex>targetIndex||moving&&lastLog&&targetIndex>=Math.min(lastLog.sourceIndex,lastLog.targetIndex)&&targetIndex<=Math.max(lastLog.sourceIndex,lastLog.targetIndex))){var action={type:SortableActionType.move,payload:{source:source,target:target,relation:relation}};scheduleUpdate(action),prevMoveData.current=[source,target,relation]}}}),[]);Object(react.useEffect)((function(){return function(){void 0!==requestedFrame.current&&cancelAnimationFrame(requestedFrame.current)}}),[]);var _hover,scheduleUpdate=Object(react.useCallback)(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(updateFn){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:pendingUpdateFn.current=updateFn,requestedFrame.current||(requestedFrame.current=requestAnimationFrame(drawFrame));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),[]),drawFrame=Object(react.useCallback)((function(){dispatch(pendingUpdateFn.current),pendingUpdateFn.current=void 0,requestedFrame.current=void 0}),[]),moveOut=Object(react.useCallback)((function(item){events.emit(SortableActionType.moveOut,{item:item})}),[]),moveIn=Object(react.useCallback)((function(index,item){var id=temp.current.id;events.emit(SortableActionType.moveIn,{insertIndex:index,item:item,target:id,source:item._sortable})}),[]),buildExternalRef=function buildExternalRef(ref){return"function"==typeof externalRef?externalRef(ref):ref},ref=Object(react.useRef)(null),_useDrop2=SortableContainer_slicedToArray(Object(useDrop.a)({accept:accept,drop:function drop(item){if(isOverCurrent)return events.emit(SortableActionType.drop,{item:item,target:id,source:item._originalSortable}),{type:"sort",sortable:id,id:item.id}},collect:function collect(monitor){return{item:monitor.getItem(),isOver:monitor.isOver(),isOverCurrent:monitor.isOver({shallow:!0}),canDrop:monitor.canDrop(),monitor:monitor}},hover:(_hover=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(item,monitor){var clientOffset,_moveItem,itemRect,moveItem,_iterator,_step,data,coord,relation;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(isOverCurrent){_context2.next=2;break}return _context2.abrupt("return");case 2:if(clientOffset=monitor.getSourceClientOffset()){_context2.next=5;break}return _context2.abrupt("return");case 5:if(null!=(_moveItem=items.find((function(data){return data.id===item.id})))&&_moveItem._rect){_context2.next=8;break}return _context2.abrupt("return");case 8:itemRect=_moveItem._rect,moveItem=getMonitorCoord(ref,itemRect,clientOffset),_iterator=SortableContainer_createForOfIteratorHelper(items.filter((function(data){return data.id!==item.id&&!!data._rect}))),_context2.prev=11,_iterator.s();case 13:if((_step=_iterator.n()).done){_context2.next=21;break}if(data=_step.value,coord=getItemCoord(ref,data),"none"===(relation=coord.compare(moveItem,layout,direction))){_context2.next=19;break}return _context2.abrupt("return",move(item.id,data.id,relation));case 19:_context2.next=13;break;case 21:_context2.next=26;break;case 23:_context2.prev=23,_context2.t0=_context2.catch(11),_iterator.e(_context2.t0);case 26:return _context2.prev=26,_iterator.f(),_context2.finish(26);case 29:case"end":return _context2.stop()}}),_callee2,null,[[11,23,26,29]])}))),function hover(_x2,_x3){return _hover.apply(this,arguments)})}),2),_useDrop2$=_useDrop2[0],item=_useDrop2$.item,isOverCurrent=_useDrop2$.isOverCurrent,canDrop=_useDrop2$.canDrop,monitor=_useDrop2$.monitor,drop=_useDrop2[1];temp.current.id=id,temp.current.item=item,temp.current.monitor=monitor,temp.current.items=items,temp.current.moving=moving,Object(react.useEffect)((function(){var _item$_originalSortab,_temp$current2=temp.current,item=_temp$current2.item,id=_temp$current2.id,monitor=_temp$current2.monitor,items=_temp$current2.items;if(item&&canDrop&&monitor&&(!isOverCurrent||id!==item._sortable)){var rootId=SortableContainer_slicedToArray(id.split("/"),1)[0];if(isOverCurrent){var insertIndex=function getInsertIndex(item,monitor,items,ref,layout,direction){var clientOffset=monitor.getSourceClientOffset();if(!clientOffset)return-1;var moveItem=getMonitorCoord(ref,item._rect||DEFAULT_RECT,clientOffset),addition=0;return items.findIndex((function(data){var relation=getItemCoord(ref,data).compare(moveItem,layout,direction);return"none"!==relation&&("after"===relation&&(addition=1),!0)}))+addition}(item,monitor,items,ref,layout,direction);item._originalSortable||(item._registered=id),moveIn(insertIndex,item)}else(item._originalSortable||item._registered!=id)&&(null!==(_item$_originalSortab=item._originalSortable)&&void 0!==_item$_originalSortab&&_item$_originalSortab.startsWith(rootId)||item._sortable!=rootId||rootId!=id)||moveOut(item)}}),[isOverCurrent]);var backgroundColor=void 0;return canDrop&&(backgroundColor="rgba(68, 171, 255, 0.05)"),Object(react_is.isElement)(tag)?react_default.a.cloneElement(tag,{ref:drop(buildExternalRef(ref)),children:children,className:classnames_default()(className),onClick:onClick,style:Object.assign({},style,{backgroundColor:backgroundColor})}):react_default.a.createElement(tag,{ref:drop(buildExternalRef(ref)),children:children,className:classnames_default()(className),onClick:onClick,style:Object.assign({},style,{backgroundColor:backgroundColor})})}var src_SortableContainer=react_default.a.forwardRef(SortableContainer);try{SortableContainer.displayName="SortableContainer",SortableContainer.__docgenInfo={description:"",displayName:"SortableContainer",props:{accept:{defaultValue:null,description:"",name:"accept",required:!0,type:{name:"string[]"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"SortableTag"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"list"'},{value:'"grid"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},removable:{defaultValue:null,description:"",name:"removable",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SortableContainer.tsx#SortableContainer"]={docgenInfo:SortableContainer.__docgenInfo,name:"SortableContainer",path:"src/SortableContainer.tsx#SortableContainer"})}catch(__react_docgen_typescript_loader_error){}var useDrag=__webpack_require__(930),useSortItem_excluded=["_rect","_sortable","_originalSortable"];function useSortItem_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function useSortItem_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function useSortItem_slicedToArray(arr,i){return function useSortItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useSortItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useSortItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useSortItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useSortItem_arrayLikeToArray(o,minLen)}(arr,i)||function useSortItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useSortItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useSortItem_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function useSortItem_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){useSortItem_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){useSortItem_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var useSortItem_style={};var hooks_useSortItem=function useSortItem(data,options){var _ref$sortable=(options||{}).sortable,sortable=void 0===_ref$sortable||_ref$sortable,dispatch=useSortableDispatch(),events=useEventManager(),sortableId=useSortableSelector((function(state){return state.id})),dragging=useSortableSelector((function(state){return state.dragging})),dataRef=Object(react.useRef)(data),ref=Object(react.useRef)(null),handleDragend=Object(react.useCallback)(useSortItem_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var evObj,i;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:(evObj=document.createEvent("MouseEvents")).initMouseEvent("mousemove",!0,!0,window,1,12,345,7,220,!1,!1,!0,!1,0,null),i=0;case 3:if(!(i<10)){_context.next=10;break}return _context.next=6,sleep(50);case 6:document.dispatchEvent(evObj);case 7:i++,_context.next=3;break;case 10:case"end":return _context.stop()}}),_callee)}))),[]);Object(react.useEffect)((function(){var timer=setInterval((function(){ref.current&&(clearInterval(timer),ref.current.addEventListener("dragend",handleDragend))}),100);return function(){clearInterval(timer)}}),[]),Object(react.useEffect)((function(){dispatch({type:SortableActionType.register,payload:{id:data.id,get _rect(){var _ref$current;return null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect()}}})}),[]);var _useDrag2=useSortItem_slicedToArray(Object(useDrag.a)({type:data.type,collect:function collect(monitor){var item=monitor.getItem();return{isDragging:monitor.isDragging()||(null==item?void 0:item.id)===data.id}},canDrag:function canDrag(){return sortable},item:function item(){return dataRef.current=Object.assign({},data,{deleteable:"boolean"!=typeof data.deleteable||data.deleteable,_originalSortable:sortableId,_sortable:sortableId,get _rect(){var _ref$current2;return null==ref||null===(_ref$current2=ref.current)||void 0===_ref$current2?void 0:_ref$current2.getBoundingClientRect()}})},end:function end(item,monitor){var result=monitor.getDropResult();if("sort"!==(null==result?void 0:result.type))return"dustbin"===(null==result?void 0:result.type)?(events.emit(SortableActionType.remove,{item:item,target:item._sortable,source:item._originalSortable}),void events.emit(SortableActionType.drop,{item:item,target:null,source:item._originalSortable})):void events.emit(SortableActionType.reset,{item:item,target:item._sortable,source:item._originalSortable})}}),3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1];(0,_useDrag2[2])(ref);var opacity=isDragging?.6:1,containerStyle=Object(react.useMemo)((function(){return Object.assign({},useSortItem_style,{opacity:opacity})}),[opacity]);Object(react.useEffect)((function(){isDragging&&!dragging&&events.emit(SortableActionType.dragging,dataRef.current)}),[isDragging]);var handleUpdate=Object(react.useCallback)((function(_ref3){_ref3._rect;var _sortable=_ref3._sortable,_originalSortable=_ref3._originalSortable,item=useSortItem_objectWithoutProperties(_ref3,useSortItem_excluded);utils_assign(dataRef.current,item),events.emit(SortableActionType.update,{item:item,target:_sortable,source:_originalSortable})}),[]),handleRemove=Object(react.useCallback)((function(){var item=Object.assign({},data,{_originalSortable:sortableId,_sortable:sortableId});events.emit(SortableActionType.remove,{item:item,target:sortableId,source:sortableId})}),[sortableId]);return[{isDragging:isDragging,update:handleUpdate,remove:handleRemove,style:containerStyle,className:isDragging?"sortable-item sortable-item-dragging":"sortable-item"},ref,drag]},SortItem_excluded=["data","itemRender","className","style"];function SortItem_slicedToArray(arr,i){return function SortItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SortItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SortItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SortItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SortItem_arrayLikeToArray(o,minLen)}(arr,i)||function SortItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SortItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SortItem_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function SortItem_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function SortItem(_ref){var data=_ref.data,ItemRender=_ref.itemRender,className=_ref.className,style=_ref.style,props=SortItem_objectWithoutProperties(_ref,SortItem_excluded),_useSortItem2=SortItem_slicedToArray(hooks_useSortItem(data),3),_useSortItem2$=_useSortItem2[0],additionStyle=_useSortItem2$.style,additionClassName=_useSortItem2$.className,remove=_useSortItem2$.remove,update=_useSortItem2$.update,ref=_useSortItem2[1],drag=_useSortItem2[2];return Object(jsx_runtime.jsx)(ItemRender,Object.assign({},props,{style:Object.assign({},style,additionStyle),className:classnames_default()(className,additionClassName),data:data,remove:remove,update:update,drag:drag,ref:ref}))}SortItem.displayName="SortItem";var src_SortItem=react_default.a.memo(SortItem);try{SortItem.displayName="SortItem",SortItem.__docgenInfo={description:"",displayName:"SortItem",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ISortableItem"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},itemRender:{defaultValue:null,description:"",name:"itemRender",required:!0,type:{name:"SortableItemContentRender"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SortItem.tsx#SortItem"]={docgenInfo:SortItem.__docgenInfo,name:"SortItem",path:"src/SortItem.tsx#SortItem"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(909);var Sortable_excluded=["itemRender","onChange"],Sortable_excluded2=["_originalSortable","_sortable","_rect"];function Sortable_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Sortable_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Sortable_slicedToArray(arr,i){return function Sortable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Sortable_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Sortable_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Sortable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sortable_arrayLikeToArray(o,minLen)}(arr,i)||function Sortable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sortable_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultAccept=["sortable-card"];function Sortable(props,ref){var onChange=props.onChange,onClick=props.onClick,_props$tag=props.tag,tag=void 0===_props$tag?"div":_props$tag,className=props.className,_props$layout=props.layout,layout=void 0===_props$layout?"list":_props$layout,children=props.children,_props$accept=props.accept,accept=void 0===_props$accept?defaultAccept:_props$accept,propsItems=props.items,itemRender=props.itemRender,style=props.style,_props$direction=props.direction,direction=void 0===_props$direction?"grid"==layout?"horizontal":"vertical":_props$direction,items=function buildItems(items,children){if(items)return items;for(var retItems=[],nodes=react_default.a.Children.toArray(children),i=0;i<nodes.length;i+=1){var props=nodes[i].props;retItems.push(Object.assign({},props.data))}return retItems}(propsItems,children),innerItemRender=Sortable_slicedToArray(Object(react.useState)(function buildItemRender(itemRender,children){if(!(itemRender||children&&react_default.a.Children.count(children)))throw"Sortable 的 itemRender 及 children 不能同时为 NULL";if(itemRender)return Object(react_is.isForwardRef)(react_default.a.createElement(itemRender))?itemRender:react_default.a.forwardRef((function(props,ref){return itemRender(props,ref)}));var tempNode=react_default.a.Children.toArray(children)[0];return react_default.a.forwardRef((function(props,ref){return react_default.a.cloneElement(tempNode,Object.assign({},props,{ref:ref}))}))}(itemRender,children)),1)[0];return Object(jsx_runtime.jsx)(SortableProvider_SortableProvider,{items:items,deps:[layout,tag,direction,className],children:Object(jsx_runtime.jsx)(SortableCore,{tag:tag,ref:ref,onClick:onClick,className:classnames_default()("sortable-container","sortable-"+layout+"-"+direction,className),style:style,accept:accept,onChange:onChange,itemRender:innerItemRender,direction:direction,layout:layout})})}Sortable.displayName="Sortable";var SortableCore=react_default.a.forwardRef((function(_ref,ref){var itemRender=_ref.itemRender,onChange=_ref.onChange,props=Sortable_objectWithoutProperties(_ref,Sortable_excluded),items=useSortableSelector((function(state){return state.items})),id=useSortableSelector((function(state){return state.id})),temp=Object(react.useRef)({id:id,items:items}),events=useEventManager(),dispatch=useSortableDispatch();temp.current.id=id,temp.current.items=items;var handleChange=Object(react.useCallback)((function(event){var items=temp.current.items;onChange&&("remove"==event.type&&(items=items.filter((function(item){return item.id!=event.item.id}))),onChange(items.map((function(_ref2){_ref2._originalSortable,_ref2._sortable,_ref2._rect;return Sortable_objectWithoutProperties(_ref2,Sortable_excluded2)})),event))}),[]),handleMoveOut=Object(react.useCallback)((function(event){var id=temp.current.id,item=event.item;item._sortable==id&&(item._sortable=item._originalSortable,dispatch({type:SortableActionType.moveOut,payload:item}))}),[]),handleRemove=Object(react.useCallback)((function(event){var id=temp.current.id,item=event.item;item._originalSortable==id&&(dispatch({type:SortableActionType.remove,payload:item}),handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.REMOVE}))),item._sortable==id&&item._originalSortable!==item._sortable&&handleReset()}),[]),handleMoveIn=Object(react.useCallback)((function(event){var id=temp.current.id,source=event.source,target=event.target;source==id?dispatch({type:SortableActionType.moveOut,payload:event.item}):target==id&&(event.item._sortable=id,dispatch({type:SortableActionType.moveIn,payload:{index:event.insertIndex,item:event.item}}))}),[]),handleDrop=Object(react.useCallback)((function(event){var id=temp.current.id,source=event.source,target=event.target;source==target&&source==id?handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.SORT})):source==id&&target?handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.DRAG})):target==id&&handleChange(Object.assign({},event,{type:typings_SortableChangeEventType.DROP})),dispatch({type:SortableActionType.drop})}),[]),handleDragging=Object(react.useCallback)((function(data){dispatch({type:SortableActionType.dragging,payload:data})}),[]),handleReset=Object(react.useCallback)((function(){dispatch({type:SortableActionType.reset})}),[]),handleUpdate=Object(react.useCallback)((function(data){temp.current.items.some((function(item){return item.id==data.item.id}))&&handleChange({item:data.item,type:typings_SortableChangeEventType.UPDATE})}),[]);Object(react.useEffect)((function(){return events.on(SortableActionType.drop,handleDrop),events.on(SortableActionType.reset,handleReset),events.on(SortableActionType.remove,handleRemove),events.on(SortableActionType.moveIn,handleMoveIn),events.on(SortableActionType.moveOut,handleMoveOut),events.on(SortableActionType.dragging,handleDragging),events.on(SortableActionType.update,handleUpdate),function(){events.off(SortableActionType.drop,handleDrop),events.off(SortableActionType.reset,handleReset),events.off(SortableActionType.remove,handleRemove),events.off(SortableActionType.moveIn,handleMoveIn),events.off(SortableActionType.moveOut,handleMoveOut),events.off(SortableActionType.dragging,handleDragging),events.off(SortableActionType.update,handleUpdate)}}),[]);var handleStart=Object(react.useCallback)((function(){dispatch({type:SortableActionType.moving,payload:!0})}),[]),handleComplete=Object(react.useCallback)((function(){dispatch({type:SortableActionType.moving,payload:!1})}),[]);return Object(jsx_runtime.jsx)(src_SortableContainer,Object.assign({},props,{ref:ref,children:Object(jsx_runtime.jsx)(index_es.b,{className:"sortable-flipper",spring:{stiffness:987,damping:63},onStart:handleStart,onComplete:handleComplete,flipKey:items.map((function(item){return item.id})).join(","),children:items.map((function(item){return Object(jsx_runtime.jsx)(index_es.a,{flipId:item.id,children:Object(jsx_runtime.jsx)(src_SortItem,{itemRender:itemRender,data:item},item.id)},item.id)}))})}))})),Sortable_injectAnime=function injectAnime(props){return Object.keys(props).filter((function(key){return key.startsWith("data-flip")})).reduce((function(data,name){return data[name]=props[name],data}),{})},src_Sortable=react_default.a.forwardRef(Sortable);try{Sortable_injectAnime.displayName="injectAnime",Sortable_injectAnime.__docgenInfo={description:"",displayName:"injectAnime",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Sortable.tsx#injectAnime"]={docgenInfo:Sortable_injectAnime.__docgenInfo,name:"injectAnime",path:"src/Sortable.tsx#injectAnime"})}catch(__react_docgen_typescript_loader_error){}try{Sortable.displayName="Sortable",Sortable.__docgenInfo={description:"",displayName:"Sortable",props:{direction:{defaultValue:null,description:"方向",name:"direction",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},layout:{defaultValue:null,description:"布局",name:"layout",required:!1,type:{name:"enum",value:[{value:'"list"'},{value:'"grid"'}]}},accept:{defaultValue:null,description:"React-Dnd Drop 的 accept 默认为 sortable-card",name:"accept",required:!1,type:{name:"string[]"}},tag:{defaultValue:null,description:"Sortable 组件渲染的标签， 默认为： Div",name:"tag",required:!1,type:{name:"SortableTag"}},children:{defaultValue:null,description:"子元素",name:"children",required:!1,type:{name:"ReactNodeArray"}},className:{defaultValue:null,description:"CSS ClassName",name:"className",required:!1,type:{name:"string"}},empty:{defaultValue:null,description:"没有数据时的， 默认显示组件",name:"empty",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},onChange:{defaultValue:null,description:"排序改变时触发，drop 及 remove 也会触发该函数",name:"onChange",required:!0,type:{name:"SortableChange"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"ISortableItem[]"}},itemRender:{defaultValue:null,description:"",name:"itemRender",required:!1,type:{name:"SortableItemContentRender | SortableItemContentRenderFunc"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},onDragover:{defaultValue:null,description:"元素移入\n@experimental",name:"onDragover",required:!1,type:{name:"((item: ISortableItem) => void)"}},onDragout:{defaultValue:null,description:"元素移出\n@experimental",name:"onDragout",required:!1,type:{name:"((item: ISortableItem) => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Sortable.tsx#Sortable"]={docgenInfo:Sortable.__docgenInfo,name:"Sortable",path:"src/Sortable.tsx#Sortable"})}catch(__react_docgen_typescript_loader_error){}try{src.displayName="src",src.__docgenInfo={description:"",displayName:"src",props:{direction:{defaultValue:null,description:"方向",name:"direction",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},layout:{defaultValue:null,description:"布局",name:"layout",required:!1,type:{name:"enum",value:[{value:'"list"'},{value:'"grid"'}]}},accept:{defaultValue:null,description:"React-Dnd Drop 的 accept 默认为 sortable-card",name:"accept",required:!1,type:{name:"string[]"}},tag:{defaultValue:null,description:"Sortable 组件渲染的标签， 默认为： Div",name:"tag",required:!1,type:{name:"SortableTag"}},children:{defaultValue:null,description:"子元素",name:"children",required:!1,type:{name:"ReactNodeArray"}},className:{defaultValue:null,description:"CSS ClassName",name:"className",required:!1,type:{name:"string"}},empty:{defaultValue:null,description:"没有数据时的， 默认显示组件",name:"empty",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},onChange:{defaultValue:null,description:"排序改变时触发，drop 及 remove 也会触发该函数",name:"onChange",required:!0,type:{name:"SortableChange"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"ISortableItem[]"}},itemRender:{defaultValue:null,description:"",name:"itemRender",required:!1,type:{name:"SortableItemContentRender | SortableItemContentRenderFunc"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>) => void)"}},onDragover:{defaultValue:null,description:"元素移入\n@experimental",name:"onDragover",required:!1,type:{name:"((item: ISortableItem) => void)"}},onDragout:{defaultValue:null,description:"元素移出\n@experimental",name:"onDragout",required:!1,type:{name:"((item: ISortableItem) => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#src"]={docgenInfo:src.__docgenInfo,name:"src",path:"src/index.tsx#src"})}catch(__react_docgen_typescript_loader_error){}try{injectAnime.displayName="injectAnime",injectAnime.__docgenInfo={description:"",displayName:"injectAnime",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#injectAnime"]={docgenInfo:injectAnime.__docgenInfo,name:"injectAnime",path:"src/index.tsx#injectAnime"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.DROP.displayName="SortableChangeEventType.DROP",SortableChangeEventType.DROP.__docgenInfo={description:"移入",displayName:"SortableChangeEventType.DROP",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.DROP"]={docgenInfo:SortableChangeEventType.DROP.__docgenInfo,name:"SortableChangeEventType.DROP",path:"src/index.tsx#SortableChangeEventType.DROP"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.REMOVE.displayName="SortableChangeEventType.REMOVE",SortableChangeEventType.REMOVE.__docgenInfo={description:"删除",displayName:"SortableChangeEventType.REMOVE",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.REMOVE"]={docgenInfo:SortableChangeEventType.REMOVE.__docgenInfo,name:"SortableChangeEventType.REMOVE",path:"src/index.tsx#SortableChangeEventType.REMOVE"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.SORT.displayName="SortableChangeEventType.SORT",SortableChangeEventType.SORT.__docgenInfo={description:"排序",displayName:"SortableChangeEventType.SORT",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.SORT"]={docgenInfo:SortableChangeEventType.SORT.__docgenInfo,name:"SortableChangeEventType.SORT",path:"src/index.tsx#SortableChangeEventType.SORT"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.DRAG.displayName="SortableChangeEventType.DRAG",SortableChangeEventType.DRAG.__docgenInfo={description:"移出",displayName:"SortableChangeEventType.DRAG",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.DRAG"]={docgenInfo:SortableChangeEventType.DRAG.__docgenInfo,name:"SortableChangeEventType.DRAG",path:"src/index.tsx#SortableChangeEventType.DRAG"})}catch(__react_docgen_typescript_loader_error){}try{SortableChangeEventType.UPDATE.displayName="SortableChangeEventType.UPDATE",SortableChangeEventType.UPDATE.__docgenInfo={description:"更新",displayName:"SortableChangeEventType.UPDATE",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#SortableChangeEventType.UPDATE"]={docgenInfo:SortableChangeEventType.UPDATE.__docgenInfo,name:"SortableChangeEventType.UPDATE",path:"src/index.tsx#SortableChangeEventType.UPDATE"})}catch(__react_docgen_typescript_loader_error){}},456:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(22),__webpack_require__(119),__webpack_require__(3),__webpack_require__(14),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(40),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(518),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(519),_excluded=["components"];function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_7__.a,{title:"Introduction",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("h1",{id:"introduction"},"Introduction"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"React 拖拽列表"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",{parentName:"li"},"It’s consistent"),". The way components are built and managed follows a predictable pattern."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",{parentName:"li"},"It’s self-contained"),". Your design system is treated as a standalone dependency."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",{parentName:"li"},"It’s reusable"),". You’ve built components so they can be reused in many contexts."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",{parentName:"li"},"It’s accessible"),". Applications built with your design system are usable by as many people as possible, no matter how they access the web."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",{parentName:"li"},"It’s robust"),". No matter the product or platform to which your design system is applied, it should perform with grace and minimal bugs.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("h2",{id:"2"},"2"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"Your first, most important task when starting out is to define the rules of your system, document them, and ensure that everyone follows them. When you have clearly documented code standards and best practices in place, designers and developers from across your organization can easily use and, more importantly, contribute to your design system."))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},457:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic}));__webpack_require__(14),__webpack_require__(6),__webpack_require__(120),__webpack_require__(74),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(8);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/Basic",component:_src__WEBPACK_IMPORTED_MODULE_16__.a,argTypes:{onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)((function(_ref,ref){var data=_ref.data,style=(_ref.remove,_ref.update,_ref.style),drag=_ref.drag,className=_ref.className;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:data.name})})),Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"3",name:"张三",type:"sortable-card"},{id:"4",name:"李四",type:"sortable-card"},{id:"5",name:"老五",type:"sortable-card"},{id:"6",name:"赵六",type:"sortable-card"},{id:"7",name:"王七",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){args.onChange(data,event),setItems(data)},itemRender:SortItem})})};Template.displayName="Template";var Basic=Template.bind({});Basic.args={},Basic.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    { id: '3', name: '张三', type: 'sortable-card' },\n    { id: '4', name: '李四', type: 'sortable-card' },\n    { id: '5', name: '老五', type: 'sortable-card' },\n    { id: '6', name: '赵六', type: 'sortable-card' },\n    { id: '7', name: '王七', type: 'sortable-card' },\n  ]);\n\n  const handleChange = (data, event) => {\n    args.onChange(data, event);\n    setItems(data);\n  };\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={SortItem}\n      />\n    </DndProvider>\n  );\n}"}},Basic.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Basic.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Basic.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},489:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Direction",(function(){return Direction}));__webpack_require__(14),__webpack_require__(6),__webpack_require__(120),__webpack_require__(74),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(8);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/Direction",component:_src__WEBPACK_IMPORTED_MODULE_16__.a,argTypes:{direction:{defaultValue:"vertical",options:["vertical","horizontal"],control:{type:"radio"}},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)((function(_ref,ref){var data=_ref.data,style=(_ref.remove,_ref.update,_ref.style),drag=_ref.drag,className=_ref.className;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:data.name})})),Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"3",name:"张三",type:"sortable-card"},{id:"4",name:"李四",type:"sortable-card"},{id:"5",name:"老五",type:"sortable-card"},{id:"6",name:"赵六",type:"sortable-card"},{id:"7",name:"王七",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,Object.assign({accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){console.log("handleChange",data),setItems(data),args.onChange(data,event)},itemRender:SortItem},args))})};Template.displayName="Template";var Direction=Template.bind({});Direction.args={},Direction.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    { id: '3', name: '张三', type: 'sortable-card' },\n    { id: '4', name: '李四', type: 'sortable-card' },\n    { id: '5', name: '老五', type: 'sortable-card' },\n    { id: '6', name: '赵六', type: 'sortable-card' },\n    { id: '7', name: '王七', type: 'sortable-card' },\n  ]);\n\n  const handleChange = (data, event) => {\n    console.log('handleChange', data);\n    setItems(data);\n    args.onChange(data, event);\n  };\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={SortItem}\n        {...args}\n      />\n    </DndProvider>\n  );\n}"}},Direction.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Direction.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Direction.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},490:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Grid",(function(){return Grid}));__webpack_require__(14),__webpack_require__(6),__webpack_require__(26),__webpack_require__(120),__webpack_require__(74),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(36),_heros_json__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(242),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/Grid",component:_src__WEBPACK_IMPORTED_MODULE_17__.a,argTypes:{layout:{defaultValue:"grid",options:["grid","list"],control:{type:"radio"}},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_14__.forwardRef)((function(_ref,ref){var data=_ref.data,style=_ref.style,drag=_ref.drag;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{style:Object.assign({},defaultStyle,style),ref:drag(ref),children:data.name})})),Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(_heros_json__WEBPACK_IMPORTED_MODULE_18__.map((function(name,id){return{id:String(id),name:name,type:"sortable-card"}}))),2),items=_useState2[0],setItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_15__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_16__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){args.onChange(data,event),setItems(data)},itemRender:SortItem,layout:args.layout})})};Template.displayName="Template";var Grid=Template.bind({});Grid.args={},Grid.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState(\n    heros.map((name, id) => ({ id: String(id), name, type: 'sortable-card' }))\n  );\n\n  const handleChange = (data, event) => {\n    args.onChange(data, event);\n    setItems(data);\n  };\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={SortItem}\n        layout={args.layout}\n      />\n    </DndProvider>\n  );\n}"}},Grid.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Grid.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Grid.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},491:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Nested",(function(){return Nested}));__webpack_require__(22),__webpack_require__(119),__webpack_require__(3),__webpack_require__(74),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23),__webpack_require__(14),__webpack_require__(6),__webpack_require__(120);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8),_excluded=["itemRef","itemClassName","itemStyle","itemData","children"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var meta={title:"Demos/Nested",component:_src__WEBPACK_IMPORTED_MODULE_18__.a,argTypes:{onDrag:{action:"draged"},onDrop:{action:"droped"},onSort:{action:"sorted"},onRemove:{action:"removed"},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}},dispatchAction=function dispatchAction(data,event){switch(event.type){case"update":return Nested.args.onChange(data,event);case"drop":return Nested.args.onDrop(data,event);case"drag":return Nested.args.onDrag(data,event);case"sort":return Nested.args.onSort(data,event);case"remove":return Nested.args.onRemove(data,event)}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},data=[{id:"1",name:"荣耀",type:"card-box",children:[{id:"11",name:"鲁班7号",type:"sortable-card"},{id:"12",name:"廉颇",type:"sortable-card"},{id:"13",name:"凯",type:"sortable-card"},{id:"14",name:"长城守卫军",type:"card-box",children:[{id:"15",name:"苏烈",type:"sortable-card"}]}]},{id:"2",name:"老王",type:"sortable-card"},{id:"3",name:"老五",type:"sortable-card"},{id:"4",name:"张三",type:"sortable-card"},{id:"5",name:"赵六",type:"sortable-card"},{id:"6",name:"李七",type:"sortable-card"},{id:"7",name:"王者营地",type:"card-box"}],InternalContainer=Object(react__WEBPACK_IMPORTED_MODULE_15__.forwardRef)((function(_ref,boxRef){var itemRef=_ref.itemRef,itemClassName=_ref.itemClassName,itemStyle=_ref.itemStyle,itemData=_ref.itemData,children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{className:itemClassName,style:Object.assign({},defaultStyle,itemStyle,{padding:0}),ref:itemRef,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("span",{ref:boxRef,style:{display:"block",padding:"0.5rem 1rem"},children:[itemData.name,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("ul",Object.assign({},props,{children:children}))]})})})),SortItem=Object(react__WEBPACK_IMPORTED_MODULE_15__.forwardRef)((function(_ref2,itemRef){var data=_ref2.data,style=_ref2.style,drag=_ref2.drag,className=_ref2.className,update=_ref2.update,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(data.children||[]),2),items=_useState2[0],setItems=_useState2[1];return drag(itemRef),"card-box"==data.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(NestedSortable,{tag:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(InternalContainer,{itemData:data,itemRef:itemRef,itemClassName:className,itemStyle:style}),items:items,onChange:function handleChange(values,event){setItems(values),update(Object.assign({},data,{children:values})),dispatchAction(data,event)}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{ref:itemRef,className:className,style:Object.assign({},defaultStyle,style),children:data.name})})),NestedSortable=function NestedSortable(_ref3){var _ref3$tag=_ref3.tag,tag=void 0===_ref3$tag?"ul":_ref3$tag,items=_ref3.items,handleChange=_ref3.onChange;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_src__WEBPACK_IMPORTED_MODULE_18__.a,{items:items,itemRender:SortItem,style:{listStyle:"none",padding:0},accept:["sortable-card","card-box"],tag:tag,onChange:handleChange})};NestedSortable.displayName="NestedSortable";var Template=function Template(args){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(data),2),items=_useState4[0],setItems=_useState4[1];return Nested.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_16__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(NestedSortable,{items:items,onChange:function handleChange(data,event){setItems(data),dispatchAction(data,event)}})})};Template.displayName="Template";var Nested=Template.bind({});Nested.args={},Nested.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState(data);\n\n  const handleChange = (data, event) => {\n    setItems(data);\n    dispatchAction(data, event);\n  };\n\n  Nested.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <NestedSortable items={items} onChange={handleChange} />\n    </DndProvider>\n  );\n}"}},Nested.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Nested.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Nested.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},492:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Animation",(function(){return Animation}));__webpack_require__(22),__webpack_require__(119),__webpack_require__(3),__webpack_require__(74),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23),__webpack_require__(14),__webpack_require__(6),__webpack_require__(120);var react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8),_excluded=["data","style","drag","className"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var meta={title:"Demos/Animation",component:_src__WEBPACK_IMPORTED_MODULE_18__.a,argTypes:{enableAnimation:{defaultValue:!0,control:{type:"boolean"}},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_15__.forwardRef)((function(_ref,ref){var data=_ref.data,style=_ref.style,drag=_ref.drag,className=_ref.className,props=_objectWithoutProperties(_ref,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",Object.assign({},Animation.args.enableAnimation?Object(_src__WEBPACK_IMPORTED_MODULE_18__.b)(props):{},{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:data.name}))})),Template=function Template(args){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"3",name:"张三",type:"sortable-card"},{id:"4",name:"李四",type:"sortable-card"},{id:"5",name:"老五",type:"sortable-card"},{id:"6",name:"赵六",type:"sortable-card"},{id:"7",name:"王七",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return Animation.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_16__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_17__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_src__WEBPACK_IMPORTED_MODULE_18__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){args.onChange(data,event),setItems(data)},itemRender:SortItem})})};Template.displayName="Template";var Animation=Template.bind({});Animation.args={},Animation.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    { id: '3', name: '张三', type: 'sortable-card' },\n    { id: '4', name: '李四', type: 'sortable-card' },\n    { id: '5', name: '老五', type: 'sortable-card' },\n    { id: '6', name: '赵六', type: 'sortable-card' },\n    { id: '7', name: '王七', type: 'sortable-card' },\n  ]);\n\n  const handleChange = (data, event) => {\n    args.onChange(data, event);\n    setItems(data);\n  };\n\n  Animation.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={SortItem}\n      />\n    </DndProvider>\n  );\n}"}},Animation.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Animation.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Animation.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},541:function(module,exports,__webpack_require__){__webpack_require__(542),__webpack_require__(698),__webpack_require__(699),__webpack_require__(922),__webpack_require__(918),__webpack_require__(924),__webpack_require__(925),__webpack_require__(923),__webpack_require__(919),__webpack_require__(926),__webpack_require__(920),__webpack_require__(921),__webpack_require__(892),module.exports=__webpack_require__(913)},609:function(module,exports){},699:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(224)},892:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(22),__webpack_require__(3),__webpack_require__(50),__webpack_require__(312),__webpack_require__(454),__webpack_require__(51),__webpack_require__(893),__webpack_require__(455),__webpack_require__(446);var _home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(163),_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(927),_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_logger__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5),_home_runner_work_asany_sortable_asany_sortable_storybook_preview_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(319);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(_home_runner_work_asany_sortable_asany_sortable_storybook_preview_js__WEBPACK_IMPORTED_MODULE_12__).forEach((function(key){var value=_home_runner_work_asany_sortable_asany_sortable_storybook_preview_js__WEBPACK_IMPORTED_MODULE_12__[key];switch(key){case"args":case"argTypes":return _home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_logger__WEBPACK_IMPORTED_MODULE_11__.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.d)(loader,!1)}));case"parameters":return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.b)(enhancer)}));case"render":return Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.setGlobalRender)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(_home_runner_work_asany_sortable_asany_sortable_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},909:function(module,exports,__webpack_require__){var api=__webpack_require__(910),content=__webpack_require__(911);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},911:function(module,exports,__webpack_require__){(exports=__webpack_require__(912)(!1)).push([module.i,".sortable-container {\n  display: flex;\n}\n.sortable-container.sortable-list-horizontal .sortable-flipper {\n  flex-direction: row;\n}\n.sortable-container.sortable-grid-horizontal .sortable-flipper {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.sortable-container.sortable-list-vertical .sortable-flipper {\n  flex-direction: column;\n}\n.sortable-container.sortable-grid-vertical .sortable-flipper {\n  flex-direction: column;\n  flex-wrap: wrap;\n}\n.sortable-container .sortable-flipper {\n  display: flex;\n  flex: 1;\n}\n.sortable-container .sortable-item-dragging {\n  position: relative;\n}\n.sortable-container .sortable-item-dragging::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: block;\n  content: '';\n}\n",""]),module.exports=exports},913:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(224).configure)([__webpack_require__(914)],module,!1)}).call(this,__webpack_require__(183)(module))},914:function(module,exports,__webpack_require__){var map={"./Animation.stories.tsx":492,"./Basic.stories.tsx":457,"./Direction.stories.tsx":489,"./Droppable.stories.tsx":915,"./Grid.stories.tsx":490,"./Introduction.stories.mdx":456,"./KeepState.stories.tsx":916,"./Nested.stories.tsx":491,"./Remove.stories.tsx":917};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=914},915:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Droppable",(function(){return Droppable}));__webpack_require__(74),__webpack_require__(3),__webpack_require__(9),__webpack_require__(15),__webpack_require__(11),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23),__webpack_require__(22),__webpack_require__(119),__webpack_require__(54),__webpack_require__(31),__webpack_require__(7),__webpack_require__(70),__webpack_require__(313),__webpack_require__(459),__webpack_require__(465),__webpack_require__(466),__webpack_require__(467),__webpack_require__(468),__webpack_require__(469),__webpack_require__(470),__webpack_require__(471),__webpack_require__(472),__webpack_require__(473),__webpack_require__(474),__webpack_require__(475),__webpack_require__(476),__webpack_require__(477),__webpack_require__(478),__webpack_require__(479),__webpack_require__(480),__webpack_require__(481),__webpack_require__(482),__webpack_require__(483),__webpack_require__(484),__webpack_require__(485),__webpack_require__(486),__webpack_require__(487),__webpack_require__(10),__webpack_require__(488),__webpack_require__(14),__webpack_require__(6),__webpack_require__(120);var react__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(930),react_dnd__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(36),_heros_json__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(242),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(8),_excluded=["itemRef","itemClassName","itemStyle","itemData","children"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/Droppable",component:_src__WEBPACK_IMPORTED_MODULE_48__.a,argTypes:{accept:{defaultValue:"default",options:["default","heros"],control:{type:"select"}},onChange:{action:"changed"},onDrop:{action:"droped"}},parameters:{controls:{expanded:!0}}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",marginRight:".5rem",backgroundColor:"white"},data=[{id:"2",name:"老王",type:"default"},{id:"3",name:"老五",type:"default"},{id:"1",name:"荣耀",type:"card-box",accept:["default"],children:[{id:"11",name:"鲁班7号",type:"default"},{id:"12",name:"廉颇",type:"default"},{id:"13",name:"凯",type:"default"},{id:"14",name:"长城守卫军 (HEROS + DEFAULT)",type:"card-box",accept:["heros","default"],children:[{id:"15",name:"苏烈",type:"default"}]}]},{id:"4",name:"张三",type:"default"},{id:"5",name:"赵六",type:"default"},{id:"6",name:"李七",type:"default"},{id:"7",name:"王者营地 (HEROS)",type:"card-box",accept:["heros"]}];function Dragme(){var ref=Object(react__WEBPACK_IMPORTED_MODULE_44__.useRef)(),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_44__.useState)(_heros_json__WEBPACK_IMPORTED_MODULE_49__),2),names=_useState2[0],setNames=_useState2[1],_item={id:"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(c){return(c^crypto.getRandomValues(new Uint32Array(1))[0]&15>>c/4).toString(16)})),type:Droppable.args.accept},drag=_slicedToArray(Object(react_dnd__WEBPACK_IMPORTED_MODULE_45__.a)({canDrag:function canDrag(){return!!names.length},type:Droppable.args.accept,item:function item(){return Object.assign({},_item,{name:names[0]+" - "+Droppable.args.accept,get rect(){var _ref$current;return null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.getBoundingClientRect()}})},end:function end(_,monitor){var result=monitor.getDropResult();result&&(Droppable.args.onDrop(result),names.shift(),setNames(_toConsumableArray(names)))},collect:function collect(monitor){return{opacity:monitor.isDragging()?.4:1}}}),2)[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsxs)("div",{ref:drag(ref),children:["英雄池(",names.length,")"]})}Dragme.displayName="Dragme";var InternalContainer=Object(react__WEBPACK_IMPORTED_MODULE_44__.forwardRef)((function(_ref,boxRef){var itemRef=_ref.itemRef,itemClassName=_ref.itemClassName,itemStyle=_ref.itemStyle,itemData=_ref.itemData,children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("li",{className:itemClassName,style:Object.assign({},defaultStyle,itemStyle,{padding:0}),ref:itemRef,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsxs)("span",{ref:boxRef,style:{display:"block",padding:"0.5rem 1rem"},children:[itemData.name,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("ul",Object.assign({},props,{children:children}))]})})})),SortItem=Object(react__WEBPACK_IMPORTED_MODULE_44__.forwardRef)((function(_ref2,itemRef){var data=_ref2.data,style=_ref2.style,drag=_ref2.drag,className=_ref2.className,update=_ref2.update,_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_44__.useState)(data.children||[]),2),items=_useState4[0],setItems=_useState4[1];return drag(itemRef),"card-box"==data.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(NestedSortable,{accept:data.accept,tag:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(InternalContainer,{itemData:data,itemRef:itemRef,itemClassName:className,itemStyle:style}),items:items,onChange:function handleChange(values,event){setItems(values),Droppable.args.onChange(values,event),update(Object.assign({},data,{children:values}))}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("li",{ref:itemRef,className:className,style:Object.assign({},defaultStyle,style),children:data.name})})),NestedSortable=function NestedSortable(_ref3){var _ref3$tag=_ref3.tag,tag=void 0===_ref3$tag?"ul":_ref3$tag,_ref3$accept=_ref3.accept,accept=void 0===_ref3$accept?[]:_ref3$accept,items=_ref3.items,handleChange=_ref3.onChange;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(_src__WEBPACK_IMPORTED_MODULE_48__.a,{items:items,accept:accept,itemRender:SortItem,style:{listStyle:"none",padding:0},tag:tag,onChange:handleChange})};NestedSortable.displayName="NestedSortable";var Template=function Template(args){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_44__.useState)(data),2),items=_useState6[0],setItems=_useState6[1];return Droppable.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsxs)(react_dnd__WEBPACK_IMPORTED_MODULE_46__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_47__.a,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(Dragme,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_50__.jsx)(NestedSortable,{accept:["default"],items:items,onChange:function handleChange(data,event){console.log("handleChange",data),setItems(data),Droppable.args.onChange(data,event)}})]})};Template.displayName="Template";var Droppable=Template.bind({});Droppable.args={},Droppable.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState(data);\n\n  const handleChange = (data, event) => {\n    console.log('handleChange', data);\n    setItems(data);\n    Droppable.args.onChange(data, event);\n  };\n\n  Droppable.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Dragme />\n      <br />\n      <NestedSortable\n        accept={['default']}\n        items={items}\n        onChange={handleChange}\n      />\n    </DndProvider>\n  );\n}"}},Droppable.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Droppable.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Droppable.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},916:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"KeepState",(function(){return KeepState}));__webpack_require__(14),__webpack_require__(6),__webpack_require__(120),__webpack_require__(74),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(8);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/Keep State",component:_src__WEBPACK_IMPORTED_MODULE_16__.a,argTypes:{onDrag:{action:"draged"},onDrop:{action:"droped"},onSort:{action:"sorted"},onRemove:{action:"removed"},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}},dispatchAction=function dispatchAction(data,event){switch(event.type){case"update":return KeepState.args.onChange(data,event);case"drop":return KeepState.args.onDrop(data,event);case"drag":return KeepState.args.onDrag(data,event);case"sort":return KeepState.args.onSort(data,event);case"remove":return KeepState.args.onRemove(data,event)}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white"},SortItem=Object(react__WEBPACK_IMPORTED_MODULE_13__.forwardRef)((function(_ref,ref){var update=_ref.update,data=_ref.data,style=_ref.style,drag=_ref.drag,className=_ref.className;if("sortable-card-2"===data.type){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:11,name:"鲁班7号",type:"sortable-card"},{id:12,name:"廉颇",type:"sortable-card"},{id:13,name:"凯",type:"sortable-card"},{id:14,name:"苏烈",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:[data.name,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,{style:{listStyle:"none",padding:0,minHeight:100},accept:["sortable-card-2","sortable-card"],tag:"ul",items:items,itemRender:SortItem,onChange:function _handleChange(values,event){dispatchAction(data,event),setItems(values)}})]})}var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(data.name),2),name=_useState4[0],setName=_useState4[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){update({name:name})}),[name]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("li",{ref:drag(ref),className:className,style:Object.assign({},defaultStyle,style),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("input",{value:name,onChange:function handleChange(event){setName(event.target.value)}})})})),Template=function Template(args){var _useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"3",name:"张三",type:"sortable-card"},{id:"4",name:"李四",type:"sortable-card"},{id:"5",name:"老五",type:"sortable-card"},{id:"6",name:"赵六",type:"sortable-card"},{id:"7",name:"王者营地",type:"sortable-card-2"}]),2),items=_useState6[0],setItems=_useState6[1];return KeepState.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_15__.a,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_16__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){setItems(data),dispatchAction(data,event)},itemRender:SortItem})})};Template.displayName="Template";var KeepState=Template.bind({});KeepState.args={},KeepState.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    { id: '3', name: '张三', type: 'sortable-card' },\n    { id: '4', name: '李四', type: 'sortable-card' },\n    { id: '5', name: '老五', type: 'sortable-card' },\n    { id: '6', name: '赵六', type: 'sortable-card' },\n    { id: '7', name: '王者营地', type: 'sortable-card-2' },\n  ]);\n\n  const handleChange = (data, event) => {\n    setItems(data);\n    dispatchAction(data, event);\n  };\n\n  KeepState.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={SortItem}\n      />\n    </DndProvider>\n  );\n}"}},KeepState.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/KeepState.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/KeepState.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}},917:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Remove",(function(){return Remove}));__webpack_require__(14),__webpack_require__(6),__webpack_require__(120),__webpack_require__(74),__webpack_require__(3),__webpack_require__(9),__webpack_require__(7),__webpack_require__(15),__webpack_require__(11),__webpack_require__(10),__webpack_require__(13),__webpack_require__(12),__webpack_require__(23);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react_dnd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(929),react_dnd__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(122),react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(61),_src__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(36),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(8);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var meta={title:"Demos/Remove",component:_src__WEBPACK_IMPORTED_MODULE_17__.a,argTypes:{onDrag:{action:"draged"},onDrop:{action:"droped"},onSort:{action:"sorted"},onRemove:{action:"removed"},onChange:{action:"changed"}},parameters:{controls:{expanded:!0}}},dispatchAction=function dispatchAction(data,event){switch(event.type){case"update":return Remove.args.onChange(data,event);case"drop":return Remove.args.onDrop(data,event);case"drag":return Remove.args.onDrag(data,event);case"sort":return Remove.args.onSort(data,event);case"remove":return Remove.args.onRemove(data,event)}};__webpack_exports__.default=meta;var defaultStyle={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white"},rowStyle={display:"flex"},nameStyle={flex:1},recycledStyle={width:"100%",height:50,paddingLeft:"1rem",border:"1px dashed gray",lineHeight:"50px"};function Recycled(){var ref=Object(react__WEBPACK_IMPORTED_MODULE_13__.useRef)(),_useDrop2=_slicedToArray(Object(react_dnd__WEBPACK_IMPORTED_MODULE_14__.a)({accept:["sortable-card"],drop:function drop(){return{type:"dustbin"}},canDrop:function canDrop(item,monitor){return item.deleteable&&monitor.isOver({shallow:!0})},collect:function collect(monitor){return{isOver:monitor.isOver(),handlerId:monitor.getHandlerId()}}}),2),isOver=_useDrop2[0].isOver;(0,_useDrop2[1])(ref);var backgroundColor=void 0;return isOver&&(backgroundColor="#a5d6a7"),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:Object.assign({},recycledStyle,{backgroundColor:backgroundColor}),ref:ref,children:"回收站(拖拽删除 支持 type = sortable-card 类型 的数据)"})}function ItemRender(_ref,ref){var data=_ref.data,style=_ref.style,drag=_ref.drag,className=_ref.className,remove=_ref.remove,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"11",name:"鲁班7号",type:"sortable-card"},{id:"12",name:"廉颇",type:"sortable-card"},{id:"13",name:"凯",type:"sortable-card"},{id:"14",name:"苏烈",type:"sortable-card"}]),2),items=_useState2[0],setItems=_useState2[1];return"sortable-card-2"===data.type?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("li",{className:className,style:Object.assign({},defaultStyle,style),ref:drag(ref),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:rowStyle,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("span",{style:nameStyle,children:data.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("a",{onClick:remove,children:"删除"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{style:{minHeight:100,listStyle:"none",padding:0},accept:["sortable-card-2","sortable-card"],tag:"ul",items:items,itemRender:ItemRender,onChange:function handleChange(values,event){setItems(values),dispatchAction(values,event)}})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("li",{ref:drag(ref),className:className,style:Object.assign({},defaultStyle,style),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:rowStyle,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("span",{style:nameStyle,children:data.name}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("a",{onClick:remove,children:"删除"})]})})}Recycled.displayName="Recycled",ItemRender.displayName="ItemRender";var Template=function Template(args){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)([{id:"1",name:"小明",type:"sortable-card"},{id:"2",name:"陈二",type:"sortable-card"},{id:"8",name:"王者营地",type:"sortable-card-2"}]),2),items=_useState4[0],setItems=_useState4[1];return Remove.args=args,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_dnd__WEBPACK_IMPORTED_MODULE_15__.a,{backend:react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_16__.a,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(Recycled,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{accept:["sortable-card"],tag:"ul",style:{listStyle:"none",padding:0},items:items,onChange:function handleChange(data,event){setItems(data),dispatchAction(data,event)},itemRender:ItemRender})]})};Template.displayName="Template";var Remove=Template.bind({});Remove.args={},Remove.parameters=Object.assign({storySource:{source:"(args) => {\n  const [items, setItems] = useState([\n    { id: '1', name: '小明', type: 'sortable-card' },\n    { id: '2', name: '陈二', type: 'sortable-card' },\n    // { id: '3', name: '张三', type: 'sortable-card' },\n    // { id: '4', name: '李四', type: 'sortable-card' },\n    // { id: '5', name: '老五', type: 'sortable-card' },\n    // { id: '6', name: '赵六', type: 'sortable-card' },\n    // { id: '7', name: '王七', type: 'sortable-card' },\n    { id: '8', name: '王者营地', type: 'sortable-card-2' },\n  ]);\n\n  const handleChange = (data, event) => {\n    setItems(data);\n    dispatchAction(data, event);\n  };\n\n  Remove.args = args;\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Recycled />\n      <br />\n      <AsanySortable\n        accept={['sortable-card']}\n        tag=\"ul\"\n        style={{ listStyle: 'none', padding: 0 }}\n        items={items}\n        onChange={handleChange}\n        itemRender={ItemRender}\n      />\n    </DndProvider>\n  );\n}"}},Remove.parameters);try{Meta.displayName="Meta",Meta.__docgenInfo={description:"Metadata to configure the stories for a component.",displayName:"Meta",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Remove.stories.tsx#Meta"]={docgenInfo:Meta.__docgenInfo,name:"Meta",path:"stories/Remove.stories.tsx#Meta"})}catch(__react_docgen_typescript_loader_error){}}},[[541,2,3]]]);